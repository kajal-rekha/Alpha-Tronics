{"mappings":"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","sources":["src/app.js"],"sourcesContent":["const productsWrapper = document.querySelector(\".products-wrapper\");\r\nconst addedProductsWrapper = document.querySelector(\".added-products\");\r\nconst cartModal = document.querySelector(\".cart-modal\");\r\nconst cartCloseBtn = document.querySelector(\".cart-close\");\r\nconst cartOpenBtn = document.querySelector(\".cart-open-btn\");\r\nconst itemCountHolder = document.querySelector(\".item-count\");\r\n\r\nfunction getProducts() {\r\n  fetch(`http://localhost:5000/products`)\r\n    .then((res) => {\r\n      if (!res.ok)\r\n        throw new Error(\"Products not found,please try again later!\");\r\n      return res.json();\r\n    })\r\n    .then((data) => {\r\n      renderProducts(data);\r\n      loadingLocalData(data);\r\n    })\r\n    .catch((err) => renderError(err.message));\r\n}\r\n\r\ngetProducts();\r\n\r\nfunction currencyFormatter(price) {\r\n  return price.toLocaleString(\"en-US\", {\r\n    style: \"currency\",\r\n    currency: \"USD\",\r\n  });\r\n}\r\n\r\nfunction renderProducts(products) {\r\n  products.forEach((product) => {\r\n    const html = `\r\n    \r\n    <div\r\n            class=\"product overflow-hidden w-96 h-auto bg-white/75 backdrop-blur-lg rounded-xl shadow-lg shadow-gray-200\"\r\n          >\r\n            <div\r\n              class=\"product-img h-80 w-96 overflow-hidden flex justify-center items-center\"\r\n            >\r\n              <img\r\n                src= ${product.image}\r\n                alt=${product.title}\r\n                class=\"w-full block\"\r\n              />\r\n            </div>\r\n            <div class=\"product-text p-5 flex flex-col gap-1\">\r\n              <p\r\n                class=\"text-sm uppercase font-bold tracking-widest text-sky-500\"\r\n              >\r\n                ${product.category}\r\n              </p>\r\n              <h3 class=\"text-2xl font-semibold truncate\">${product.title}</h3>\r\n              <p class=\"text-2xl text-rose-500 font-semibold\">\r\n                ${currencyFormatter(product.price)}\r\n                <span class=\"text-sm text-gray-600\"> ${product.review}</span>\r\n              </p>\r\n              <button data-id = \"${product.id}\"\r\n                class=\" add-to-cart-btn bg-sky-500 self-start text-sky-50 p-2 px-5 rounded shadow-lg shadow-sky-200 font-semibold hover:bg-rose-500 hover:shadow-rose-200 duration-300 hover:rose-50\"\r\n              >\r\n                Add to cart\r\n              </button>\r\n            </div>\r\n          </div>\r\n    \r\n    `;\r\n    productsWrapper.insertAdjacentHTML(\"beforeend\", html);\r\n  });\r\n\r\n  // add to cart even\r\n  const addToCartBtns = document.querySelectorAll(\".add-to-cart-btn\");\r\n  //console.log(addToCartBtns);\r\n  addToCartBtns.forEach((btn) => {\r\n    btn.addEventListener(\"click\", function (e) {\r\n      const id = e.target.dataset.id;\r\n\r\n      // checking\r\n      const checkingLocalData = JSON.parse(localStorage.getItem(`item-${id}`));\r\n\r\n      if (checkingLocalData) {\r\n        return null;\r\n      }\r\n\r\n      if (!checkingLocalData) {\r\n        //calling another fetch function\r\n        getSingleProductData(id);\r\n        showCountValue();\r\n      }\r\n\r\n      // cart open\r\n      cartModal.classList.remove(\"hidden\");\r\n    });\r\n  });\r\n}\r\n\r\n//show count value\r\nlet liveCount = 0;\r\nconst prevCount = +itemCountHolder.textContent;\r\n\r\nfunction showCountValue() {\r\n  liveCount += 1;\r\n  const newCount = prevCount + liveCount;\r\n  itemCountHolder.textContent = newCount;\r\n}\r\n\r\nfunction getSingleProductData(id) {\r\n  fetch(`http://localhost:5000/products/${id}`)\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      renderSingleProduct(data);\r\n      saveInLocalStorage(data);\r\n    });\r\n}\r\n\r\nfunction saveInLocalStorage(product) {\r\n  // localStorage.setItem(\"item\", JSON.stringify(product));\r\n  //get data from localstorage\r\n  const gettingLocalData = JSON.parse(\r\n    localStorage.getItem(`item-${product.id}`)\r\n  );\r\n\r\n  // if data exists , return null\r\n  if (gettingLocalData) return null;\r\n\r\n  // if not exixts , set\r\n  if (!gettingLocalData) {\r\n    localStorage.setItem(`item-${product.id}`, JSON.stringify(product));\r\n  }\r\n}\r\n\r\nfunction loadingLocalData(products) {\r\n  let localData = [];\r\n\r\n  for (let i = 1; i <= products.length; i++) {\r\n    const dataParsing = JSON.parse(localStorage.getItem(`item-${i}`));\r\n    if (dataParsing) localData.push(dataParsing);\r\n  }\r\n\r\n  //render local data\r\n\r\n  localData.forEach((product) => {\r\n    renderSingleProduct(product);\r\n  });\r\n\r\n  //render item count\r\n  const itemCount = localData.length;\r\n  itemCountHolder.textContent = itemCount;\r\n}\r\n\r\nfunction renderSingleProduct(product) {\r\n  const html = `\r\n    <div\r\n            class=\"added-product grid grid-cols-3 border-b pb-2 justify-center gap-2 overflow-hidden items-center\"\r\n          >\r\n            <div\r\n              class=\"img overflow-hidden w-20 rounded flex justify-center items-center\"\r\n            >\r\n              <img\r\n                src=\"${product.image}\"\r\n                alt=\"${product.title}\"\r\n                class=\"block w-full rounded\"\r\n              />\r\n            </div>\r\n            <div class=\"texts flex flex-col gap-2\">\r\n              <h4 class=\"font-sibold\">${product.title}</h4>\r\n              <div class=\"flex justify-between items-center gap-3\">\r\n                <p class=\"price font-bold text-rose-500\">${currencyFormatter(\r\n                  product.price\r\n                )}</p>\r\n                <p\r\n                  class=\"font-semibold text-xl gap-3 overflow-hidden flex items-center bg-sky-100\"\r\n                >\r\n                  <span\r\n                    class=\"bg-sky-500 text-sky-50 px-2 cursor-pointer active:bg-gray-700\"\r\n                    >-</span\r\n                  >\r\n                  <span>1</span>\r\n                  <span\r\n                    class=\"bg-sky-500 text-sky-50 px-2 cursor-pointer active:bg-gray-700\"\r\n                    >+</span\r\n                  >\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <button class=\"remove-item hover:text-rose-500 justify-self-end\">\r\n              <i class=\"fa-solid fa-trash-can\"></i>\r\n            </button>\r\n          </div>\r\n  \r\n  `;\r\n\r\n  addedProductsWrapper.insertAdjacentHTML(\"beforeend\", html);\r\n}\r\n// error method\r\nfunction renderError(errMsg) {\r\n  productsWrapper.innerHTML = \"\";\r\n  const html = `\r\n  <p> ${errMsg}</p>\r\n  `;\r\n  productsWrapper.insertAdjacentHTML(\"afterbegin\", html);\r\n}\r\n\r\n// cart close event\r\ncartCloseBtn.addEventListener(\"click\", function () {\r\n  cartModal.classList.add(\"hidden\");\r\n});\r\n\r\n// cart open from cart open btn\r\ncartOpenBtn.addEventListener(\"click\", function () {\r\n  cartModal.classList.remove(\"hidden\");\r\n});\r\n"],"names":[],"version":3,"file":"index.816e7b21.js.map","sourceRoot":"/__parcel_source_root/"}